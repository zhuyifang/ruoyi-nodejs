// src/{{moduleName}}/{{moduleName}}.module.ts
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
// 【修复】使用 modulePrefix 统一导入
import { Plugin{{modulePrefix}}Controller } from './{{moduleName}}.controller';
import { Plugin{{modulePrefix}}Service } from './{{moduleName}}.service';
// 【保持】实体类名仍然使用 entityName
import { {{entityName}} } from './{{moduleName}}.entity';

@Module({
    imports: [TypeOrmModule.forFeature([{{entityName}}])],
    // 【修复】使用 modulePrefix 统一引用
    controllers: [Plugin{{modulePrefix}}Controller],
    providers: [Plugin{{modulePrefix}}Service],
    exports: [Plugin{{modulePrefix}}Service],
})
// 【修复】使用 modulePrefix 统一类名，并添加 "Plugin" 前缀
export class Plugin{{modulePrefix}}Module {}